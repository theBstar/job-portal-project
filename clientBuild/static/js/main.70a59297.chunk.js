(window.webpackJsonpclient=window.webpackJsonpclient||[]).push([[3],{104:function(e,n,t){},105:function(e,n,t){"use strict";t.r(n);var a=t(0),o=t.n(a),r=t(5),c=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function l(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var i=t(33),u=t(23),s=t(138),d=t(67),f=t(141),m=t(139),g=t(26),h=t(27),b=t.n(h),p=t(63),v=t(136),w=t(66),j=t.n(w),E=t(114),k=t(142),O=t(35),y=t(134),S=Object(p.a)((function(e){return{loaderContainer:{height:"100vh",width:"100vw",zIndex:100,display:"flex",justifyContent:"center",alignItems:"center"},progress:{margin:e.spacing(2),minWidth:"80px",minHeight:"80px"}}}));var z=function(){var e=S();return o.a.createElement("section",{className:e.loaderContainer},o.a.createElement(y.a,{className:e.progress}))},T=Object(a.lazy)((function(){return Promise.all([t.e(0),t.e(2),t.e(14)]).then(t.bind(null,200))})),x=Object(a.lazy)((function(){return Promise.all([t.e(0),t.e(1),t.e(15)]).then(t.bind(null,201))})),A=Object(a.lazy)((function(){return Promise.all([t.e(2),t.e(9)]).then(t.bind(null,203))})),C=Object(a.lazy)((function(){return t.e(13).then(t.bind(null,204))})),P=Object(a.lazy)((function(){return Promise.all([t.e(10),t.e(18)]).then(t.bind(null,207))})),W=Object(p.a)((function(e){return{root:{minHeight:"80vh"},menuButton:{}}}));var N=function(){var e=W(),n=Object(u.f)(),t=Object(u.g)(),r=Object(a.useState)({}),c=Object(g.a)(r,2),l=c[0],i=c[1],s=Object(a.useState)(null),d=Object(g.a)(s,2),f=d[0],h=d[1],p=function(e){e&&(O.a.removeToken(),i({})),h(null)},w=Object(a.useState)(!0),y=Object(g.a)(w,2),S=y[0],N=y[1];return Object(a.useEffect)((function(){var e=O.a.getToken();e?b.a.post("/auth/login",{data:{loginMethod:"token",token:e}}).then((function(t){"success"!==t.data.status?(delete b.a.defaults.headers.common.Authorization,O.a.removeToken(),N(!1),n.replace("/signin")):(b.a.defaults.headers.common.Authorization=e,b.a.get("/user/".concat(t.data.data.uid)).then((function(e){"success"===e.data.status&&(i(e.data.data.user),N(!1))})))})):(N(!1),delete b.a.defaults.headers.common.Authorization,"/"!==t.pathname&&n.push("/signin"))}),[n,i,t,N]),o.a.createElement(m.a,{className:e.root},o.a.createElement(C,{isFixed:!!l.uid},l.uid&&o.a.createElement(o.a.Fragment,null,o.a.createElement(v.a,{className:e.menuButton,color:"inherit","aria-label":"account menu","aria-controls":"account-menu","aria-haspopup":"true",onClick:function(e){h(e.currentTarget)}},o.a.createElement(j.a,null)),o.a.createElement(E.a,{id:"account-menu",anchorEl:f,keepMounted:!0,open:Boolean(f),onClose:function(){return p(!1)}},o.a.createElement(k.a,{onClick:function(){p(!0)}},"Logout")))),S?o.a.createElement(z,null):l&&3===l.role?o.a.createElement(T,{user:l}):l&&2===l.role?o.a.createElement(x,{user:l}):l&&1===l.role?o.a.createElement(A,{user:l}):o.a.createElement(P,null))},I=Object(a.lazy)((function(){return Promise.all([t.e(0),t.e(1),t.e(7),t.e(20)]).then(t.bind(null,208))})),B=Object(a.lazy)((function(){return Promise.all([t.e(0),t.e(1),t.e(11)]).then(t.bind(null,209))})),L=Object(a.lazy)((function(){return t.e(12).then(t.bind(null,205))})),R=Object(d.a)({palette:{primary:{light:"rgba(54, 86, 241, 1)",main:"rgba(21, 41, 150, 1)",dark:"rgba(2, 17, 98, 1)",contrastText:"#fff"},secondary:{light:"rgba(182, 3, 186, 1)",main:"rgba(142, 3, 145, 1)",dark:"rgba(90, 10, 93, 1)",contrastText:"#fff"},error:{light:"rgba(224, 0, 0, 1)",main:"rgba(150, 9, 0, 1)",dark:"rgba(92, 0, 0, 1)",contrastText:"#fff"},background:{default:"#cfd8dc"}}});var U=function(){return o.a.createElement(f.a,{theme:R},o.a.createElement(s.a,null),o.a.createElement(m.a,{className:"App"},o.a.createElement(a.Suspense,{fallback:o.a.createElement(z,null)},o.a.createElement(u.c,null,o.a.createElement(u.a,{exact:!0,path:"/signin",component:B}),o.a.createElement(u.a,{path:"/signup",component:I}),o.a.createElement(u.a,{path:"/",component:N})),o.a.createElement(L,null))))};t(104);var F=function(){return o.a.createElement(i.a,null,o.a.createElement(U,null))};Object(r.render)(o.a.createElement(F,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("","/service-worker.js");c?(!function(e,n){fetch(e).then((function(t){var a=t.headers.get("content-type");404===t.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):l(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):l(n,e)}))}}()},35:function(e,n,t){"use strict";var a=t(36),o=t(22),r=function(){function e(){Object(a.a)(this,e)}return Object(o.a)(e,null,[{key:"setToken",value:function(e){return!!localStorage&&(localStorage.setItem("sldjfo8idtuj3ndf32wb32",e),!0)}},{key:"getToken",value:function(){return!!localStorage&&localStorage.getItem("sldjfo8idtuj3ndf32wb32")}},{key:"removeToken",value:function(){localStorage&&localStorage.removeItem("sldjfo8idtuj3ndf32wb32")}}]),e}();n.a=r},76:function(e,n,t){e.exports=t(105)}},[[76,4,5]]]);
//# sourceMappingURL=main.70a59297.chunk.js.map