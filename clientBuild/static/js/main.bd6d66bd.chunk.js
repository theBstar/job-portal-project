(window.webpackJsonpclient=window.webpackJsonpclient||[]).push([[3],{104:function(e,t,n){},105:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(5);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=n(33),c=n(23),u=n(138),i=n(67),s=n(141),m=n(139),d=n(26),f=n(27),b=n.n(f),h=n(63),g=n(136),p=n(66),j=n.n(p),E=n(114),v=n(142),k=n(35),O=n(134),w=Object(h.a)((function(e){return{loaderContainer:{height:"100vh",width:"100vw",zIndex:100,display:"flex",justifyContent:"center",alignItems:"center"},progress:{margin:e.spacing(2),minWidth:"80px",minHeight:"80px"}}}));var y=function(){var e=w();return r.a.createElement("section",{className:e.loaderContainer},r.a.createElement(O.a,{className:e.progress}))},z=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(2),n.e(14)]).then(n.bind(null,200))})),x=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(15)]).then(n.bind(null,201))})),S=Object(a.lazy)((function(){return Promise.all([n.e(2),n.e(9)]).then(n.bind(null,203))})),T=Object(a.lazy)((function(){return n.e(13).then(n.bind(null,204))})),C=Object(a.lazy)((function(){return Promise.all([n.e(10),n.e(18)]).then(n.bind(null,207))})),I=Object(h.a)((function(e){return{root:{minHeight:"80vh"},menuButton:{}}}));var P=function(){var e=I(),t=Object(c.f)(),n=Object(c.g)(),o=Object(a.useState)({}),l=Object(d.a)(o,2),u=l[0],i=l[1],s=Object(a.useState)(null),f=Object(d.a)(s,2),h=f[0],p=f[1],O=function(e){e&&(k.a.removeToken(),i({})),p(null)},w=Object(a.useState)(!0),P=Object(d.a)(w,2),B=P[0],N=P[1];return Object(a.useEffect)((function(){var e=k.a.getToken();e?b.a.post("/auth/login",{data:{loginMethod:"token",token:e}}).then((function(n){"success"!==n.data.status?(delete b.a.defaults.headers.common.Authorization,k.a.removeToken(),N(!1),t.replace("/signin")):(b.a.defaults.headers.common.Authorization=e,b.a.get("/user/".concat(n.data.data.uid)).then((function(e){"success"===e.data.status&&(i(e.data.data.user),N(!1))})))})):(N(!1),delete b.a.defaults.headers.common.Authorization,"/"!==n.pathname&&t.push("/signin"))}),[t,i,n,N]),r.a.createElement(m.a,{className:e.root},r.a.createElement(T,{isFixed:!!u.uid},u.uid&&r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{className:e.menuButton,color:"inherit","aria-label":"account menu","aria-controls":"account-menu","aria-haspopup":"true",onClick:function(e){p(e.currentTarget)}},r.a.createElement(j.a,null)),r.a.createElement(E.a,{id:"account-menu",anchorEl:h,keepMounted:!0,open:Boolean(h),onClose:function(){return O(!1)}},r.a.createElement(v.a,{onClick:function(){O(!0)}},"Logout")))),B?r.a.createElement(y,null):u&&3===u.role?r.a.createElement(z,{user:u}):u&&2===u.role?r.a.createElement(x,{user:u}):u&&1===u.role?r.a.createElement(S,{user:u}):r.a.createElement(C,null))},B=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(7),n.e(20)]).then(n.bind(null,208))})),N=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(11)]).then(n.bind(null,209))})),A=Object(a.lazy)((function(){return n.e(12).then(n.bind(null,205))})),W=Object(i.a)({palette:{primary:{light:"rgba(54, 86, 241, 1)",main:"rgba(21, 41, 150, 1)",dark:"rgba(2, 17, 98, 1)",contrastText:"#fff"},secondary:{light:"rgba(182, 3, 186, 1)",main:"rgba(142, 3, 145, 1)",dark:"rgba(90, 10, 93, 1)",contrastText:"#fff"},error:{light:"rgba(224, 0, 0, 1)",main:"rgba(150, 9, 0, 1)",dark:"rgba(92, 0, 0, 1)",contrastText:"#fff"},background:{default:"#cfd8dc"}}});var F=function(){return r.a.createElement(s.a,{theme:W},r.a.createElement(u.a,null),r.a.createElement(m.a,{className:"App"},r.a.createElement(a.Suspense,{fallback:r.a.createElement(y,null)},r.a.createElement(c.c,null,r.a.createElement(c.a,{exact:!0,path:"/signin",component:N}),r.a.createElement(c.a,{path:"/signup",component:B}),r.a.createElement(c.a,{path:"/",component:P})),r.a.createElement(A,null))))};n(104);var H=function(){return r.a.createElement(l.a,null,r.a.createElement(F,null))};Object(o.render)(r.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},35:function(e,t,n){"use strict";var a=n(36),r=n(22),o=function(){function e(){Object(a.a)(this,e)}return Object(r.a)(e,null,[{key:"setToken",value:function(e){return!!localStorage&&(localStorage.setItem("sldjfo8idtuj3ndf32wb32",e),!0)}},{key:"getToken",value:function(){return!!localStorage&&localStorage.getItem("sldjfo8idtuj3ndf32wb32")}},{key:"removeToken",value:function(){localStorage&&localStorage.removeItem("sldjfo8idtuj3ndf32wb32")}}]),e}();t.a=o},76:function(e,t,n){e.exports=n(105)}},[[76,4,5]]]);
//# sourceMappingURL=main.bd6d66bd.chunk.js.map